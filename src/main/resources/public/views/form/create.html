<div class="container typeahead-demo">
    <form class="well input-form" name="inputform" ng-submit="createForm()">
        <div class="form-group has-feedback"
             ng-class="{'has-success': inputform.customer.$dirty && inputform.customer.$valid, 'has-error': inputform.customer.$dirty && inputform.customer.$invalid}">
            <div class="row">
                <div class="col-md-11">
                    <label class="control-label" for="customer">Klient</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <input id="customer" name="customer"
                           type="text" ng-model="customer"
                           uib-typeahead="customer as customer.secondName + ' ' + customer.firstName for customer in customers | filter:{secondName:$viewValue}"
                           typeahead-input-formatter="customer.firstName + ' ' + customer.secondName"
                           typeahead-popup-template-url="customPopupTemplate.html"
                           class="form-control">
                </div>
                <div class="col-md-2">
                    <a class="btn btn-default align-bottom" href="#/createCustomer">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </a>
                    <button type="button" class="btn btn-default" ng-disabled=!form.customerId
                            ng-click="showCustomersData = !showCustomersData">
                        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
            <div ng-show="showCustomersData" class="row">
                <div class="col-md-12">
                    <dl class="dl-horizontal">
                        <dt>Imię</dt>
                        <dd>{{customer.firstName}}</dd>
                        <dt>Nazwisko</dt>
                        <dd>{{customer.secondName}}</dd>
                        <dt>Numer telefonu</dt>
                        <dd>{{customer.phone}}</dd>
                    </dl>
                </div>
            </div>
            <div class="row">
                <div class="col-md-11">
                    <label class="control-label" for="car">Samochód</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <input id="car" name="car"
                           type="text" ng-model="car"
                           uib-typeahead="car as car.registrationNumber for car in cars | filter:{registrationNumber:$viewValue}"
                           typeahead-input-formatter="car.registrationNumber"
                           typeahead-popup-template-url="customPopupTemplate.html"
                           class="form-control"
                           typeahead-on-select="setCustomer(car.customerId)">
                </div>
                <div class="col-md-2">
                    <a class="btn btn-default align-bottom"
                       ng-disabled="!form.customerId"
                       ng-href="{{!form.customerId ? '' : '#/editCar/'+form.customerId}}">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </a>
                    <button type="button" class="btn btn-default" ng-disabled=!form.carId
                            ng-click="showCarData = !showCarData">
                        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
            <div ng-show="showCarData" class="row">
                <div class="col-md-12">
                    <dl class="dl-horizontal">
                        <dt>Model</dt>
                        <dd>{{car.model.name}}</dd>
                        <dt>Marka</dt>
                        <dd>{{car.brand.name}}</dd>
                    </dl>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div ng-include src="'/views/wheel/wheel.html'"></div>
                </div>
            </div>
        </div>
        <button class="btn btn-primary" type="submit" ng-disabled="inputcar.$invalid || inputcar.$pristine">Zapisz
        </button>
        <button type="button" class="btn btn-default">
            <span class="glyphicon glyphicon glyphicon-print" aria-hidden="true"></span>
        </button>
    </form>
</div>